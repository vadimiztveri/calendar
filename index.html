<!DOCTYPE html>
<html>
	<head>
		<title>Всплывающий календарь</title>
		<meta http-equiv="Content-Language" content="ru">
		<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
		<link type="text/css" href="style.css" rel="stylesheet" />
	</head>
	<body onload="calendar.start_new_calendar();">
		<h1>Всплывающий календарь</h1>

		Дата: <input id="result">
	
		<div id="calendar">
			<div class="year-month"><span id="year-minus" role="year-minus"></span><span class="min">&nbsp;←&nbsp;</span><span id="year-selected" role="year-selected"></span><span class="min">&nbsp;→&nbsp;</span><span id="year-plus" role="year-plus"></span></div>
			<div class="year-month"><span id="month-minus" role="month-minus"></span><span class="min">&nbsp;←&nbsp;</span><span id="month-selected" role="month-selected"></span><span class="min">&nbsp;→&nbsp;</span><span id="month-plus" role="month-plus"></span></div>
			<ul class="week-days">
				<li>Пн</li>
				<li>Вт</li>
				<li>Ср</li>
				<li>Чт</li>
				<li>Пт</li>
				<li class="weekend">Сб</li>
				<li class="weekend">Вс</li>
			</ul>
			<ul id="days">
			</ul>
			<div id="close" role="close">Закрыть</div>
		</div>
		
		<script src="calendar.js"></script>
		<script src="handlers.js"></script>
		<script type="text/javascript">
			function Application() {
			};
			
			Application.prototype.run = function() {
				this.start_new_calendar = function(date) {
				  if (date) {
				    var date_in_array = [parseInt(date.substring(6)), parseInt(date.substring(3, 5) - 1), parseInt(date.substring(0, 2))];
				  } else {
				    var date_in_array = [new Date().getFullYear(), new Date().getMonth(), new Date().getDate()];
				  }

				  calendar = new Calendar(date_in_array[0]);

				  calendar.current_date = [date_in_array[0], date_in_array[1], date_in_array[2]];
				  calendar.selected_date = [date_in_array[0], date_in_array[1], date_in_array[2]];

				  calendar.redraw();
				};
			};
			
			var calendar = new Application();
			calendar.run();
		</script>
	</body>
</html>